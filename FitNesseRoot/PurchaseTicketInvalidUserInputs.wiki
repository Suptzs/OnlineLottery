---
Test
---
OnlineLottery

!define COMMAND_PATTERN {%m -r fitnesse.fitserver.FitServer,dotnet2\fit.dll %p}
!define TEST_RUNNER {dotnet2\Runner.exe}
!path ${RootPath}\OnlineLottery\bin\Release\OnlineLottery.dll

!|import|
|OnlineLottery.Test.PurchaseTicket|

|Set Up Test Environment|
|Create Draw|01.01.2017|
|New player|john|registers and deposits|50|dollars|

!3 When a user selects more or less than six numbers, the ticket purchase should be refused. The ticket should not be registered, account balance and pool value remain untouched.

|Purchase Ticket|
|reject|Player|john|buys a ticket with numbers|1,3,4,5,8| for draw on|01.01.2017|
|reject|Player|john|buys a ticket with numbers|1,3,4,5,8,10,13| for draw on|01.01.2017|
|Check|Pool value for draw on|01.01.2017|is|0|
|Check|Account balance for|john|is|50|
|not|Ticket with numbers|1,3,4,5,8|for|10|dollars is registered for player|john|for draw on|01.01.2017|
|not|Ticket with numbers|1,3,4,5,8,10,13|for|10|dollars is registered for player|john|for draw on|01.01.2017|

!3 When a user selects a negative amount of tickets, the ticket purchase should be refused. The ticket should not be registered, account balance and pool value remain untouched.

|Purchase Ticket|
|reject|Player|john|buys|-2|tickets with numbers|1,3,4,5,8,10| for draw on|01.01.2017|
|Check|Pool value for draw on|01.01.2017|is|0|
|Check|Account balance for|john|is|50|
|not|Ticket with numbers|1,3,4,5,8,10|for|-20|dollars is registered for player|john|for draw on|01.01.2017|