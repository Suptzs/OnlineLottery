---
Test
---
OnlineLottery

!define COMMAND_PATTERN {%m -r fitnesse.fitserver.FitServer,dotnet2\fit.dll %p}
!define TEST_RUNNER {dotnet2\Runner.exe}
!path ${RootPath}\OnlineLottery\bin\Release\OnlineLottery.dll

!|import|
|OnlineLottery.Test.PurchaseTicket|

|Set Up Test Environment|
|Create Draw|01.01.2017|
|New player|john|registers and deposits|50|dollars|

!3 When there is not enough money in the account, the ticket purchase should be refused. The ticket should not be registered, account balance and pool value remain untouched.

|Purchase Ticket|
|Player|john|has|50|dollars|
|reject|Player|john|buys|10|tickets with numbers|1,3,4,5,8,10| for draw on|01.01.2017|
|Check|Pool value for draw on|01.01.2017|is|0|
|Check|Account balance for|john|is|50|
|not|Ticket with numbers|1,3,4,5,8,10|for|100|dollars is registered for player|john|for draw on|01.01.2017|